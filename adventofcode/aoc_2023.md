# Advent of Code 2023

## Day 1: Trebuchet?!

### Part 2

```py
from collections import *
from functools import *
from itertools import *
import sys
# sys.stdin = open("input.txt", "r")
sys.stdout = open("output.txt", "w")

digits = {"one": "1", "two": "2", "three": "3", "four": "4", "five": "5", "six": "6", "seven": "7", "eight": "8", "nine": "9"}

def main():
    with open('input.txt', 'r') as f:
        data = f.read().splitlines()
        res = 0
        for s in data:
            left, right = 0, len(s) - 1
            left_dig = right_dig = None
            while left < len(s) and left_dig is None:
                if s[left].isdigit(): 
                    left_dig = s[left]
                    break
                for d, v in digits.items():
                    if d in s[:left + 1]:
                        left_dig = v
                left += 1
            while right >= 0 and right_dig is None:
                if s[right].isdigit(): 
                    right_dig = s[right]
                    break
                for d, v in digits.items():
                    if d in s[right:]:
                        right_dig = v
                right -= 1
            res += int(left_dig + right_dig)
        print(res)

if __name__ == '__main__':
    main()
```

## Day 2: 

### Part 2

```py
def main():
    with open('input.txt', 'r') as f:
        data = f.read().splitlines()
        res = 0
        for line in data:
            cubes = {"red": 0, "green": 0, "blue": 0}
            # Use regular expression to extract game number and data
            match = re.match(r"Game (\d+): (.+)", line)
            game_number = int(match.group(1))
            game_data_str = match.group(2)
            # Split the game data into individual parts
            parts = game_data_str.split(';')
            # Extract and store data for each part
            flag = True
            for part in parts:
                data = re.findall(r"(\d+) (\w+)", part)
                
                # Extract up to 3 colors (blue, red, green) from each set
                color_values = {'blue': 0, 'red': 0, 'green': 0}
                for count, color in data:
                    if color in color_values:
                        color_values[color] = int(count)
                for color in color_values:
                    cubes[color] = max(cubes[color], color_values[color])
                # if not all(color_values[color] <= cubes[color] for color in color_values):
                #     flag = False
            res += math.prod(cubes.values())
            # if flag:
            #     res += game_number
        print(res)             

if __name__ == '__main__':
    main()
```

## Day 3: 

### Part 2

```py
def main():
    with open('input.txt', 'r') as f:
        data = f.read().splitlines()
        dig = defaultdict(list)
        R, C = len(data), len(data[0])
        for r, line in enumerate(data):
            cur = 0
            start = None
            for c, x in enumerate(line):
                if x.isdigit():
                    if start is None:
                        start = c
                    cur = cur * 10 + int(x)
                else:
                    if start is not None:
                        dig[cur].append((r, start, c - 1))
                    start = None
                    cur = 0
            if start is not None:
                dig[cur].append((r, start, C - 1))
        def check(row, col):
            return data[row][col] == "*"
        gears = defaultdict(list)
        for val, tuples in dig.items():
            for r, c1, c2 in tuples:
                for c in range(max(0, c1 - 1), min(c2 + 2, C)):
                    if check(r, c):
                        gears[(r, c)].append(val)
                    if r > 0 and check(r - 1, c):
                        gears[(r - 1, c)].append(val)
                    if r < R - 1 and check(r + 1, c):
                        gears[(r + 1, c)].append(val) 
        res = sum(math.prod(values) for values in gears.values() if len(values) == 2)
        print(res)             

if __name__ == '__main__':
    main()
```

## Day 4: 

### Part 1

```py
def main():
    with open('input.txt', 'r') as f:
        data = f.read().splitlines()
        res = 0
        for i, line in enumerate(data):
            _, after_part = line.split(":")
            before, after = after_part.split("|")
            before_numbers = set(map(int, before.split()))
            after_numbers = list(map(int, after.split()))
            cnt = sum(1 for num in after_numbers if num in before_numbers)
            if cnt == 0: continue
            res += pow(2, cnt - 1)
        print(res)             

if __name__ == '__main__':
    main()
```

## Day 4:

### Part 2

```py
def main():
    with open('input.txt', 'r') as f:
        data = f.read().splitlines()
        cards = [1] * len(data)         
        for card_index, line in enumerate(data):
            _, after_part = line.split(":")
            before, after = after_part.split("|")
            before_numbers = set(map(int, before.split()))
            after_numbers = list(map(int, after.split()))
            cnt = sum(1 for num in after_numbers if num in before_numbers)
            for i in range(card_index + 1, card_index + cnt + 1):
                cards[i] += cards[card_index]
        print(sum(cards))             

if __name__ == '__main__':
    main()
```

## Day 2: 

```py

```

## Day 2: 

```py

```

## Day 2: 

```py

```

## Day 2: 

```py

```

## Day 2: 

```py

```

## Day 2: 

```py

```

## Day 2: 

```py

```

## Day 2: 

```py

```